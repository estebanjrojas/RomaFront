<!----## Inicio Form Principal ##---->
<form id="empleadosFormId" [formGroup]="productosForm" (ngSubmit)="guardar()">
  <input type="hidden" formControlName="nombre_usuario" />
  <input type="hidden" formControlName="id_producto" />
  <!----## Inicio Container Principal ##---->
  <div class="container">
    <!----## Inicio Row Principal ##---->
    <div class="row">
      <!----## Inicio Columna 12  ##---->
      <div class="col-md-12 m-0 p-0">
        <!----## Inicio Row 1 Interior  ##---->
        <div class="row">
          <!----## Inicio Col 12  ##---->
          <div class="col-md-12">
            <!----## Inicio Card ##---->
            <br />
            <div class="card" id="cardPrincipal">
              <!----## Inicio Card Body ##---->
              <div class="card-body">
                <h3>Productos</h3>
                <hr />
                <div class="row">
                  <div class="col-md-6">
                    <div class="row">
                      <div class="col-md-12">
                        <!--~~~~~~~~~ Código ~~~~~~~~~~~-->
                        &nbsp;
                        <mat-form-field
                          class="example-full-width"
                          style="width: 90%"
                        >
                          <input
                            matInput
                            placeholder="Código"
                            formControlName="codigo"
                          />
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <!--~~~~~~~~~ Nombre Producto ~~~~~~~~~~~-->
                        &nbsp;
                        <mat-form-field
                          class="example-full-width"
                          style="width: 90%"
                        >
                          <input
                            matInput
                            placeholder="Nombre"
                            formControlName="nombre_producto"
                          />
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <!--~~~~~~~~~ Descripción Producto ~~~~~~~~~~~-->
                        &nbsp;
                        <mat-form-field
                          class="example-full-width"
                          style="width: 90%"
                        >
                          <input
                            matInput
                            placeholder="Descripción"
                            formControlName="descripcion_producto"
                          />
                        </mat-form-field>
                      </div>
                    </div>
                    <div class="row">
                      <div class="col-md-12">
                        <!--~~~~~~~~~ Tipo ~~~~~~~~~~~-->
                        &nbsp;
                        <mat-form-field
                          class="example-full-width"
                          style="width: 90%"
                        >
                          <mat-select placeholder="Tipo" formControlName="tipo">
                            <mat-option
                              *ngFor="let tipo of this.tipo_producto"
                              [value]="tipo.id"
                            >
                              {{ tipo.descripcion }}
                            </mat-option>
                          </mat-select>
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-5">
                        <!--~~~~~~~~~ Precio ~~~~~~~~~~~-->
                        &nbsp;
                        <mat-form-field
                          class="example-full-width"
                          style="width: 90%"
                        >
                          <input
                            matInput
                            placeholder="Precio"
                            formControlName="precio"
                          />
                        </mat-form-field>
                      </div>
                    </div>

                    <div class="row">
                      <div class="col-md-12">
                        <!--~~~~~~~~~ Descripción Factura ~~~~~~~~~~~-->
                        &nbsp;
                        <mat-form-field
                          class="example-full-width"
                          style="width: 90%"
                        >
                          <input
                            matInput
                            placeholder="Descripción Factura"
                            formControlName="descripcion_factura"
                          />
                        </mat-form-field>
                      </div>
                    </div>
                    <!----## Fin Segunda Columna 6 ##---->
                  </div>

                  <div class="col-md-6">
                    <div class="row" id="div_fotos">
                      <div class="card" style="width: 90%">
                        <div
                          id="carouselFotos"
                          class="carousel slide"
                          data-ride="carousel"
                        >
                          <ol
                            class="carousel-indicators"
                            *ngIf="cantidadFotos > 1"
                          >
                            <li
                              *ngFor="let img of this.urls; let i = index"
                              [attr.data-target]="'#carouselFotos'"
                              [attr.data-slide-to]="i"
                              class="{{ i == 0 ? 'active' : '' }}"
                            ></li>
                          </ol>
                          <div class="carousel-inner">
                            <div
                              *ngFor="let img of this.urls; let i = index"
                              class="{{
                                i == 0
                                  ? 'carousel-item active'
                                  : 'carousel-item'
                              }}"
                            >
                              <img class="d-block w-100" [src]="img" />
                              <div class="carousel-caption">
                                <div class="fondo-translucido">
                                  <input
                                    class="form-check-input"
                                    type="radio"
                                    [id]="i"
                                    name="predeterminada"
                                    (change)="this.setFotoPredeterminada(i)"
                                  />
                                  Predeterminada &nbsp;
                                  <button
                                    type="button"
                                    class="btn btn-sm btn-danger"
                                    (click)="quitarFoto(i)"
                                  >
                                    <img
                                      src="../../../../assets/eliminar.png"
                                      alt=""
                                    />
                                  </button>
                                </div>
                              </div>
                            </div>
                          </div>
                          <a
                            class="carousel-control-prev"
                            href="#carouselFotos"
                            role="button"
                            data-slide="prev"
                            *ngIf="cantidadFotos > 1"
                          >
                            <span
                              class="carousel-control-prev-icon"
                              aria-hidden="false"
                            ></span>
                            <span class="sr-only">Anterior</span>
                          </a>
                          <a
                            class="carousel-control-next"
                            href="#carouselFotos"
                            role="button"
                            data-slide="next"
                            *ngIf="cantidadFotos > 1"
                          >
                            <span
                              class="carousel-control-next-icon"
                              aria-hidden="false"
                            ></span>
                            <span class="sr-only">Siguiente</span>
                          </a>
                        </div>
                        <div class="card-body">
                          <h5 class="card-title">Fotos</h5>
                          <p class="card-text">
                            Agregue fotos de la persona para visualizar en las
                            pantallas...
                          </p>
                          <input
                            type="file"
                            multiple
                            class="btn btn-outline-primary"
                            id="avatar"
                            style="width: 100%"
                            formControlName="imagenes_input"
                            (change)="detectFiles($event)"
                            value="Agregar"
                            #fileInput
                          />
                        </div>
                      </div>
                    </div>
                  </div>
                </div>

                <br />
                <!-- Inicio Card Caracteristicas del producto -->
                <div class="row">
                  <div class="col-md-12">
                    <div class="card">
                      <div class="card-header">Caracteristicas</div>
                      <div class="card-body">
                        <div class="row">
                          <div class="col-md-6">
                            <div class="row">
                              <div class="col-md-12">
                                <mat-form-field
                                  class="example-full-width"
                                  style="width: 90%"
                                >
                                  <input
                                    matInput
                                    placeholder="Nombre"
                                    id="nombretablita"
                                    formControlName="nombre"
                                  />
                                </mat-form-field>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-md-12">
                                <mat-form-field
                                  class="example-full-width"
                                  style="width: 90%"
                                >
                                  <input
                                    matInput
                                    placeholder="Descripción"
                                    id="descripcion"
                                    formControlName="descripcion"
                                  />
                                </mat-form-field>
                              </div>
                            </div>
                            <div class="row">
                              <div class="col-md-12">
                                <mat-form-field
                                  class="example-full-width"
                                  style="width: 70%"
                                >
                                  <input
                                    matInput
                                    placeholder="Valor"
                                    id="valor"
                                    formControlName="valor"
                                  />
                                </mat-form-field>
                                &nbsp;&nbsp;&nbsp;
                                <button
                                  type="button"
                                  mat-stroked-button
                                  type="button"
                                  (click)="agregarDatosTablita()"
                                >
                                  Agregar
                                </button>
                              </div>
                            </div>
                          </div>

                          <div class="col-md-6">
                            <table class="table table-hover table-sm">
                              <thead class="thead-celeste">
                                <th style="width: 35%">Nombre</th>
                                <th style="width: 35%">Descrip.</th>
                                <th style="width: 25%; text-align: center">
                                  Valor
                                </th>
                                <th style="width: 5%; text-align: center"></th>
                              </thead>
                              <tbody id="tablita">
                                <tr
                                  *ngFor="
                                    let caract of caracteristicas;
                                    let indice = index
                                  "
                                >
                                  <td>{{ caract.nombre }}</td>
                                  <td>{{ caract.descripcion }}</td>
                                  <td>{{ caract.unidad_medida }}</td>
                                  <td style="text-align: center">
                                    {{ caract.valor }}
                                  </td>
                                  <td>
                                    <button
                                      class="btn btn-danger btn-sm"
                                      type="button"
                                      (click)="borrarFila(indice)"
                                    >
                                      X
                                    </button>
                                  </td>
                                </tr>
                              </tbody>
                            </table>
                          </div>
                        </div>
                      </div>
                    </div>
                    <!-- Fin Card Caracteristicas del producto -->
                    <br />
                  </div>

                  <!-- Inicio Card de categorias del producto-->
                  <div class="col-md-9">
                    <div class="card">
                      <div class="card-header">Categor&iacute;as</div>
                      <div class="card-body">
                        <app-tree
                          *ngIf="objetosArbolCategorias.length > 0"
                          [data]="objetosArbolCategorias"
                          [allSelectable]="false"
                          (newSelectedItem)="
                            actualizarSeleccionCategoria($event)
                          "
                        ></app-tree>
                      </div>
                    </div>
                    <!-- Fin Card de categorias del producto-->
                  </div>
                  <div class="col-md-3">
                    <table class="table table-hover table-sm">
                      <thead class="thead-celeste">
                        <th style="width: 5%; text-align: center"></th>
                        <th>Categor&iacute;a</th>
                      </thead>
                      <tbody id="tb_categorias">
                        <tr
                          *ngFor="
                            let cats of categorias_guardar;
                            let indice = index
                          "
                        >
                          <td>
                            <button
                              class="btn btn-danger btn-sm"
                              type="button"
                              (click)="borrarFila(indice)"
                            >
                              X
                            </button>
                          </td>
                          <td>{{ cats.nombre }}</td>
                        </tr>
                      </tbody>
                    </table>
                  </div>
                </div>
                <br />
                <div class="row h-100">
                  <div class="col-md-12" align="center">
                    <input
                      type="button"
                      class="btn btn-outline-primary btn-xs col-md-2"
                      value="Volver"
                      onClick="window.history.go(-1)"
                    />&nbsp;
                    <input
                      type="submit"
                      class="btn btn-primary btn-xs col-md-2"
                      value="Guardar"
                    />
                  </div>
                </div>
              </div>
              <!----## Fin Card Body ##---->
            </div>
            <!----## Fin Card ##---->
          </div>
          <!----## Fin Col 12  ##---->
        </div>
        <!----## Fin Row 1 Interior  ##---->
        <br />
      </div>
      <!----## Fin Columna 12  ##---->
    </div>
    <!----## Fin Row Principal ##---->
  </div>
  <!----## Fin Container Principal ##---->
</form>
<!----## Fin Form Principal ##---->
